
<mxfile host="app.diagrams.net" version="27.1.6">
  <diagram name="Página-1">
    <mxGraphModel dx="2072" dy="381" grid="1" gridSize="10" page="1" pageScale="1" pageWidth="1600" pageHeight="900">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- AWS Account Box -->
        <mxCell id="account" value="AWS Account" style="shape=swimlane;fillColor=#FFFFFF;strokeColor=#CD2264;fontSize=16;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="20" y="20" width="1500" height="850" as="geometry"/>
        </mxCell>

        <!-- WAF -->
        <mxCell id="waf" value="WAF" style="shape=mxgraph.aws4.security_identity_compliance.waf;html=1;" vertex="1" parent="account">
          <mxGeometry x="50" y="80" width="120" height="70" as="geometry"/>
        </mxCell>

        <!-- API Gateway -->
        <mxCell id="apigateway" value="API Gateway" style="shape=mxgraph.aws4.networking_content_delivery.api_gateway;html=1;" vertex="1" parent="account">
          <mxGeometry x="200" y="80" width="120" height="70" as="geometry"/>
        </mxCell>

        <!-- Cognito -->
        <mxCell id="cognito" value="Cognito" style="shape=mxgraph.aws4.security_identity_compliance.cognito;html=1;" vertex="1" parent="account">
          <mxGeometry x="350" y="80" width="120" height="70" as="geometry"/>
        </mxCell>

        <!-- ECS Fargate -->
        <mxCell id="ecs" value="ECS Fargate
(múltiplas AZs)
Subnets privadas" style="shape=swimlane;fillColor=#F9F9F9;strokeColor=#FF9900;fontSize=14;" vertex="1" parent="account">
          <mxGeometry x="50" y="200" width="1100" height="500" as="geometry"/>
        </mxCell>

        
    <mxCell id="event-service" value="Event Service" style="shape=mxgraph.aws4.compute.ecs;html=1;" vertex="1" parent="ecs">
      <mxGeometry x="70" y="240" width="140" height="60" as="geometry"/>
    </mxCell>
    
    <mxCell id="product-service" value="Product Service" style="shape=mxgraph.aws4.compute.ecs;html=1;" vertex="1" parent="ecs">
      <mxGeometry x="230" y="240" width="140" height="60" as="geometry"/>
    </mxCell>
    
    <mxCell id="ticket-service" value="Ticket Service" style="shape=mxgraph.aws4.compute.ecs;html=1;" vertex="1" parent="ecs">
      <mxGeometry x="390" y="240" width="140" height="60" as="geometry"/>
    </mxCell>
    
    <mxCell id="reservation-service" value="Reservation Service" style="shape=mxgraph.aws4.compute.ecs;html=1;" vertex="1" parent="ecs">
      <mxGeometry x="550" y="240" width="140" height="60" as="geometry"/>
    </mxCell>
    
    <mxCell id="order-service" value="Order Service" style="shape=mxgraph.aws4.compute.ecs;html=1;" vertex="1" parent="ecs">
      <mxGeometry x="710" y="240" width="140" height="60" as="geometry"/>
    </mxCell>
    
    <mxCell id="payment-service" value="Payment Service" style="shape=mxgraph.aws4.compute.ecs;html=1;" vertex="1" parent="ecs">
      <mxGeometry x="870" y="240" width="140" height="60" as="geometry"/>
    </mxCell>
    
    <mxCell id="user-service" value="User Service" style="shape=mxgraph.aws4.compute.ecs;html=1;" vertex="1" parent="ecs">
      <mxGeometry x="1030" y="240" width="140" height="60" as="geometry"/>
    </mxCell>
    

        <!-- RDS PostgreSQL -->
        <mxCell id="rds" value="RDS PostgreSQL
Multi-AZ" style="shape=mxgraph.aws4.database.rds;html=1;" vertex="1" parent="account">
          <mxGeometry x="1200" y="250" width="150" height="80" as="geometry"/>
        </mxCell>

        <!-- SQS -->
        <mxCell id="sqs" value="SQS
(orquestração)" style="shape=mxgraph.aws4.application_integration.sqs;html=1;" vertex="1" parent="account">
          <mxGeometry x="1200" y="350" width="150" height="80" as="geometry"/>
        </mxCell>

        <!-- S3 -->
        <mxCell id="s3" value="S3
(armazenamento tickets PDF)" style="shape=mxgraph.aws4.storage.s3;html=1;" vertex="1" parent="account">
          <mxGeometry x="1200" y="450" width="150" height="80" as="geometry"/>
        </mxCell>

        <!-- Observability -->
        <mxCell id="observability" value="CloudWatch
X-Ray
Secrets Manager
Alarms
IAM" style="shape=swimlane;fillColor=#EFEFEF;strokeColor=#FF33CC;fontSize=14;" vertex="1" parent="account">
          <mxGeometry x="1200" y="600" width="200" height="200" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
